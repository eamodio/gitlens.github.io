{"version":3,"file":"main.js","mappings":"yBAOO,IAAUA,EA+DAC,GA/DjB,SAAiBD,GAoBA,EAAAE,GAAhB,SACCC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIC,GAAW,EAEf,GAAiC,iBAAtBL,EAAgC,CAC1C,MAAMM,GAAQF,MAAAA,EAAAA,EAAMG,UAAUC,iBAAiBR,GAC/C,IAAK,MAAMS,KAAOH,EACjBG,EAAIC,iBAAiBT,EAAMC,EAA2BC,MAAAA,GAAAA,GAGvD,MAAO,CACNQ,QAAS,KACR,IAAIN,EAAJ,CACAA,GAAW,EAEX,IAAK,MAAMI,KAAOH,EACjBG,EAAIG,oBAAoBX,EAAMC,EAA2BC,MAAAA,GAAAA,MAO7D,OADAH,EAAkBU,iBAAiBT,EAAMC,EAA2BC,MAAAA,GAAAA,GAC7D,CACNQ,QAAS,KACJN,IACJA,GAAW,EAEXL,EAAkBY,oBAAoBX,EAAMC,EAA2BC,MAAAA,GAAAA,OAK1D,EAAAU,EAAhB,SAAqCC,GACpC,OAAOP,SAASC,iBAAoBM,IA3DtC,CAAiBjB,IAAAA,EAAG,KA+DpB,SAAiBC,GACA,EAAAiB,MAAhB,WACCC,aAAaD,SAGE,EAAAE,IAAhB,SAAuBC,GACtB,MAAMC,EAAQH,aAAaI,QAAQF,GACnC,GAAa,MAATC,EAEJ,OAAOE,KAAKC,MAAMH,IAGH,EAAAI,OAAhB,SAAuBL,GACtBF,aAAaQ,WAAWN,IAGT,EAAAO,IAAhB,SAAuBP,EAAaC,GACnCH,aAAaU,QAAQR,EAAKG,KAAKM,UAAUR,KAjB3C,CAAiBrB,IAAAA,EAAO,KClEjB,MAAM8B,EAOZC,YAAmB5B,GAAA,KAAAA,KAAAA,EAHX,KAAA6B,cAAoC,SACpC,KAAAC,SAAW,IAAIC,IAItB,MAAMC,EAAKC,KAEXrC,EAAIE,GAAG,iBAAiBmC,KAAKjC,SAAU,QAASiC,KAAKC,gBAAgBC,KAAKF,OAE1ErC,EAAIE,GACH,eAAemC,KAAKjC,kCACpB,SACA,SAA6BoC,GAC5BJ,EAAGK,kBAAkBJ,KAAMG,MAG7BxC,EAAIE,GACH,eAAemC,KAAKjC,qCACpB,SACA,SAA6BoC,GAC5BJ,EAAGM,qBAAqBL,KAAMG,MAIhC,MAAM5B,EAAMZ,EAAIgB,EAAkB,uBAAuBqB,KAAKjC,UAAU,GAExEiC,KAAKM,QAAU,CAAC,aAAc,eAAeN,KAAKjC,QAElD,MAAMuC,EAAU/B,EAAIgC,QAAQD,QACb,MAAXA,GACHN,KAAKM,QAAQE,QAAQF,EAAQG,MAAM,MAGpCT,KAAKU,SAAW,IAAIC,qBAAqBX,KAAKY,WAAWV,KAAKF,MAAO,CACpEa,WAAY,oBAGb,IAAK,MAAM3C,KAAMG,SAASC,iBAAiB,uDAC1C0B,KAAKH,SAASN,IAAIrB,EAAG4C,IAAI,GAEzBd,KAAKU,SAASK,QAAQ7C,GAIpB8C,WACH,MAAO,IAAIhB,KAAKjC,OAGjBkD,SAASC,EAAkBC,GAAmB,GAE7C9C,SAAS+C,KAAKC,UAAUC,OAAOtB,KAAKM,SAGrCiB,aAEClD,SAAS+C,KAAKC,UAAUhC,UAAUW,KAAKM,SAG9BkB,QAAQC,GACjB,MAAO,GAAGzB,KAAKgB,OAAQS,EAAY,GAAGA,EAAKC,WAAW,KAAOD,EAAO,IAAIA,MAA1C,KAAqDE,cAG1EC,YAAYH,G,MACrB,OAA6B,QAAtB,EAAApD,SAASwD,SAASb,YAAI,eAAEW,iBAAkB3B,KAAKwB,QAAQC,GAGrDK,QAAQL,GACjBpD,SAASwD,SAASb,KAAOhB,KAAKwB,QAAQC,GAG/BxB,gBAAgBE,G,OACG,QAAtB,EAAA9B,SAASwD,SAASb,YAAI,eAAEU,WAAW1B,KAAKgB,OAC3C3C,SAASwD,SAASb,KAAO,GAEzBhB,KAAK8B,UAIClB,WAAWmB,EAAsCC,GACxD,IAAK,MAAMC,KAASF,EACnB/B,KAAKH,SAASN,IAAI0C,EAAMC,OAAOpB,GAAImB,EAAME,gBAG1C,IAAIC,EACJ,IAAK,MAAOtB,EAAIuB,KAAYrC,KAAKH,SAASkC,UACzC,GAAIM,EAAS,CACZD,EAAatB,EAEb,MAIF,QAAmBwB,IAAfF,EAA0B,CAC7B,GAAuB,IAAnBL,EAAQQ,OAAc,OAE1B,MAAMN,EAAQF,EAAQ,GACtB,GAAgC,MAA5BE,EAAMO,oBAAkD,MAApBP,EAAMQ,WAAoB,OAGlE,GADAL,EAAaH,EAAMC,OAAOpB,GACtBmB,EAAMO,mBAAmBE,KAAOT,EAAMQ,WAAWE,OAAQ,CAC5D,MAAMC,EAAO,IAAI5C,KAAKH,SAAS+C,QACzBC,EAAQD,EAAKE,QAAQV,GAC3B,GAAIS,GAAS,EAAG,OAEhBT,EAAaQ,EAAKC,EAAQ,IAIxB7C,KAAKJ,gBAAkBwC,QAKAE,IAAvBtC,KAAKJ,eACRI,KAAK+C,kBAAkB/C,KAAKJ,eAAe,GAG5CI,KAAKJ,cAAgBwC,EACrBpC,KAAK+C,kBAAkB/C,KAAKJ,eAAe,IAT1CI,KAAK+C,kBAAkB/C,KAAKJ,eAAe,GAYrCQ,kBAAkB7B,EAAkB4B,GAC3C,MAAM6C,EAAWzE,EAAIgC,QAAQyC,SACvBC,EAAY5E,SAAS6E,eAAeF,GACpCG,EAAWF,EAAUG,QAAwB,eAE7CC,EACL1F,EAAIgB,EAAE,yCAAyCwE,EAAS5C,QAAQ+C,aAAc,GAAGC,wBAC/EC,OAAS,EAENC,EAAcN,EAASI,wBAAwBb,IAE/CA,EADaO,EAAUM,wBAAwBb,IAC5Be,EAAcJ,EAEvCF,EAASO,cAAeV,SAAS,CAChCN,IAAKA,EACLiB,SAAU,WAIJtD,qBAAqB9B,EAAkB4B,GAChCxC,EAAIgB,EAAkB,eAAeqB,KAAKjC,UAAU,GAC5DwC,QAAQ+C,QAAU/E,EAAIgC,QAAQ+C,QAG7BP,kBAAkBO,EAAiBM,GAC1C,MAAM1F,EAAKG,SAASwF,cAAc,6CAA6CP,OACrE,MAANpF,GACHA,EAAGmD,UAAUyC,OAAO,SAAUF,ICxJjC,ICCO,MAONjE,cANA,KAAAoE,WAAa,GAIL,KAAAC,uBAAyB,EAGhChE,KAAKiE,MAAQ,GACb,IAAK,MAAM1F,KAAOZ,EAAIgB,EAAoB,uBAAwB,CACjE,MAAMuF,EAAO3F,EAAIgC,QAAQ2D,KACb,MAARA,GAEJlE,KAAKiE,MAAMzD,KAAK,IAAId,EAAKwE,IAG1BvG,EAAIE,GAAG,uBAAwB,QAASmC,KAAKmE,oBAAoBjE,KAAKF,OACtErC,EAAIE,GAAG,oBAAqB,SAAS,WACpCmC,KAAKqB,UAAUyC,OAAO,UAAW9D,KAAKqB,UAAU+C,SAAS,cAE1DC,OAAO7F,iBAAiB,aAAcwB,KAAKsE,cAAcpE,KAAKF,OAAO,GAErE,MAAOgB,EAAME,GAASlB,KAAKuE,kBAC3BvE,KAAKwE,WAAWxD,EAAME,GAAO,GAG9BsD,WAAWxD,EAAcE,EAAiBC,GAAU,GACnDkD,OAAOI,aAAazE,KAAKgE,wBACzBhE,KAAKgE,uBAAyB,EAE9B,MAAMU,EAAW1E,KAAK+D,WAEtB,OAAQ/C,GACP,IAAK,GAGJ,GAFAhB,KAAK+D,WAAa,GAEdW,IAAa1E,KAAK+D,WAAY,CACjC,MAAMY,EAAO3E,KAAKiE,MAAMW,MAAMC,GAAMA,EAAE9G,OAAS2G,IACnC,MAARC,GACHA,EAAKpD,aAIPlD,SAAS+C,KAAKC,UAAUyC,OAAO,WAAY3C,GACtCA,IACJ9C,SAASwD,SAASb,KAAO,IAG1B,MAED,QAAS,CACR,MAAMkD,EAAOlE,KAAKiE,MAAMW,MAAMC,GAAMA,EAAE9G,OAASiD,IAC/C,GAAY,MAARkD,EAEH,YADAlE,KAAKwE,WAAW,GAAI,IAAI,GAMzB,GAFAxE,KAAK+D,WAAa/C,EAEd0D,IAAa1E,KAAK+D,WAAY,CACjC,MAAMY,EAAO3E,KAAKiE,MAAMW,MAAMC,GAAMA,EAAE9G,OAAS2G,IACnC,MAARC,GACHA,EAAKpD,aAIP2C,EAAKjD,SAASC,EAAOC,GAErB9C,SAAS+C,KAAKC,UAAUyC,OAAO,WAAY3C,GACtCA,IACJnB,KAAKgE,uBAAyBK,OAAOS,YACpC,IAAMzG,SAAS+C,KAAKC,UAAUC,IAAI,aAClC,MAIF,OAIEH,GACH2D,YAAW,IAAMzG,SAAS+C,KAAKC,UAAUhC,OAAO,YAAY,GAItD8E,oBAAoBhE,GAC3B9B,SAASwD,SAASb,KAAO,GAGlBsD,cAAcnE,GACrB,MAAOa,EAAME,GAASlB,KAAKuE,kBAEvBvE,KAAK+E,SAAS/D,EAAME,IAExBlB,KAAKwE,WAAWxD,EAAME,GAGfqD,kB,MACP,IAAIvD,EAA6B,QAAtB,EAAA3C,SAASwD,SAASb,YAAI,eAAEgE,UAAU,GACzC9D,EAAkB,GAKtB,OAJIF,KACFA,KAASE,GAASF,EAAKP,MAAM,MAGxB,CAACO,EAAME,GAGP6D,SAAS/D,EAAcE,GAC9B,OAAa,oBAATF,GAAuC,YAATA,KACjC3C,SAASwD,SAASb,KAAO,KAClB,K","sources":["webpack://gitlens.github.io/./src/dom.ts","webpack://gitlens.github.io/./src/view.ts","webpack://gitlens.github.io/./src/index.ts","webpack://gitlens.github.io/./src/app.ts"],"sourcesContent":["'use strict';\n/*global document*/\n\nexport interface Disposable {\n\tdispose: () => void;\n}\n\nexport namespace DOM {\n\texport function on<K extends keyof DocumentEventMap, T extends Element>(\n\t\tselector: string,\n\t\tname: K,\n\t\tlistener: (this: T, ev: DocumentEventMap[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t\tel?: Element\n\t): Disposable;\n\texport function on<K extends keyof DocumentEventMap, T extends Element>(\n\t\tel: Document | Element,\n\t\tname: K,\n\t\tlistener: (this: T, ev: DocumentEventMap[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions\n\t): Disposable;\n\texport function on<K extends keyof WindowEventMap, T extends Element>(\n\t\tel: Window,\n\t\tname: K,\n\t\tlistener: (this: T, ev: WindowEventMap[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions\n\t): Disposable;\n\texport function on<K extends keyof (DocumentEventMap | WindowEventMap), T extends Element>(\n\t\tselectorOrElement: string | Window | Document | Element,\n\t\tname: K,\n\t\tlistener: (this: T, ev: (DocumentEventMap | WindowEventMap)[K]) => any,\n\t\toptions?: boolean | AddEventListenerOptions,\n\t\tel?: Element\n\t): Disposable {\n\t\tlet disposed = false;\n\n\t\tif (typeof selectorOrElement === 'string') {\n\t\t\tconst $els = (el ?? document).querySelectorAll(selectorOrElement);\n\t\t\tfor (const $el of $els) {\n\t\t\t\t$el.addEventListener(name, listener as EventListener, options ?? false);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdispose: () => {\n\t\t\t\t\tif (disposed) return;\n\t\t\t\t\tdisposed = true;\n\n\t\t\t\t\tfor (const $el of $els) {\n\t\t\t\t\t\t$el.removeEventListener(name, listener as EventListener, options ?? false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tselectorOrElement.addEventListener(name, listener as EventListener, options ?? false);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tif (disposed) return;\n\t\t\t\tdisposed = true;\n\n\t\t\t\tselectorOrElement.removeEventListener(name, listener as EventListener, options ?? false);\n\t\t\t},\n\t\t};\n\t}\n\n\texport function $<T extends Element>(selector: string): NodeListOf<T> {\n\t\treturn document.querySelectorAll<T>(selector);\n\t}\n}\n\nexport namespace Storage {\n\texport function clear(): void {\n\t\tlocalStorage.clear();\n\t}\n\n\texport function get<T>(key: string): T | undefined {\n\t\tconst value = localStorage.getItem(key);\n\t\tif (value == null) return undefined;\n\n\t\treturn JSON.parse(value) as T;\n\t}\n\n\texport function remove(key: string): void {\n\t\tlocalStorage.removeItem(key);\n\t}\n\n\texport function set<T>(key: string, value: T): void {\n\t\tlocalStorage.setItem(key, JSON.stringify(value));\n\t}\n}\n","'use strict';\n/*global document*/\nimport { DOM } from './dom';\n\nexport class View {\n\tprivate classes: string[];\n\tprivate observer: IntersectionObserver | undefined;\n\n\tprivate activeVersion: string | undefined = '11.7.0';\n\tprivate versions = new Map<string, boolean>();\n\n\tconstructor(public name: string) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-this-alias\n\t\tconst me = this;\n\n\t\tDOM.on(`[data-action=\"${this.name}\"]`, 'click', this.onButtonClicked.bind(this));\n\n\t\tDOM.on(\n\t\t\t`[data-view=\"${this.name}\"] [data-action=\"scrollTo\"]`,\n\t\t\t'click',\n\t\t\tfunction (this: HTMLElement, e: MouseEvent) {\n\t\t\t\tme.onScrollToClicked(this, e);\n\t\t\t}\n\t\t);\n\t\tDOM.on(\n\t\t\t`[data-view=\"${this.name}\"] [data-action=\"showVersion\"]`,\n\t\t\t'click',\n\t\t\tfunction (this: HTMLElement, e: MouseEvent) {\n\t\t\t\tme.onShowVersionClicked(this, e);\n\t\t\t}\n\t\t);\n\n\t\tconst $el = DOM.$<HTMLDivElement>(`.section[data-view=\"${this.name}\"]`)[0];\n\n\t\tthis.classes = ['is-section', `is-section--${this.name}`];\n\n\t\tconst classes = $el.dataset.classes;\n\t\tif (classes != null) {\n\t\t\tthis.classes.push(...classes.split(' '));\n\t\t}\n\n\t\tthis.observer = new IntersectionObserver(this.onObserver.bind(this), {\n\t\t\trootMargin: '0px 0px 0px 0px',\n\t\t});\n\n\t\tfor (const el of document.querySelectorAll('.changelog__list>.changelog__list-item--version[id]')) {\n\t\t\tthis.versions.set(el.id, false);\n\n\t\t\tthis.observer.observe(el);\n\t\t}\n\t}\n\n\tget hash(): string {\n\t\treturn `#${this.name}`;\n\t}\n\n\tactivate(paths?: string[], loading: boolean = false): void {\n\t\t// console.log(`View(${this.name}).activate`);\n\t\tdocument.body.classList.add(...this.classes);\n\t}\n\n\tdeactivate(): void {\n\t\t// console.log(`View(${this.name}).deactivate`);\n\t\tdocument.body.classList.remove(...this.classes);\n\t}\n\n\tprotected getHash(path?: string): string {\n\t\treturn `${this.hash}${!path ? '' : `${path.startsWith('/') ? path : `/${path}`}`}`.toLowerCase();\n\t}\n\n\tprotected matchesPath(path?: string): boolean {\n\t\treturn document.location.hash?.toLowerCase() === this.getHash(path);\n\t}\n\n\tprotected setPath(path?: string): void {\n\t\tdocument.location.hash = this.getHash(path);\n\t}\n\n\tprivate onButtonClicked(e: MouseEvent) {\n\t\tif (document.location.hash?.startsWith(this.hash)) {\n\t\t\tdocument.location.hash = '';\n\t\t} else {\n\t\t\tthis.setPath();\n\t\t}\n\t}\n\n\tprivate onObserver(entries: IntersectionObserverEntry[], _observer: IntersectionObserver) {\n\t\tfor (const entry of entries) {\n\t\t\tthis.versions.set(entry.target.id, entry.isIntersecting);\n\t\t}\n\n\t\tlet nextActive: string | undefined;\n\t\tfor (const [id, visible] of this.versions.entries()) {\n\t\t\tif (visible) {\n\t\t\t\tnextActive = id;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (nextActive === undefined) {\n\t\t\tif (entries.length !== 1) return;\n\n\t\t\tconst entry = entries[0];\n\t\t\tif (entry.boundingClientRect == null || entry.rootBounds == null) return;\n\n\t\t\tnextActive = entry.target.id;\n\t\t\tif (entry.boundingClientRect.top >= entry.rootBounds.bottom) {\n\t\t\t\tconst keys = [...this.versions.keys()];\n\t\t\t\tconst index = keys.indexOf(nextActive);\n\t\t\t\tif (index <= 0) return;\n\n\t\t\t\tnextActive = keys[index - 1];\n\t\t\t}\n\t\t}\n\n\t\tif (this.activeVersion === nextActive) {\n\t\t\tthis.toggleVersionLink(this.activeVersion, true);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.activeVersion !== undefined) {\n\t\t\tthis.toggleVersionLink(this.activeVersion, false);\n\t\t}\n\n\t\tthis.activeVersion = nextActive;\n\t\tthis.toggleVersionLink(this.activeVersion, true);\n\t}\n\n\tprivate onScrollToClicked($el: HTMLElement, e: MouseEvent) {\n\t\tconst scrollTo = $el.dataset.scrollTo!;\n\t\tconst $scrollTo = document.getElementById(scrollTo)!;\n\t\tconst $section = $scrollTo.closest<HTMLDivElement>('section[id]')!;\n\n\t\tconst offset =\n\t\t\tDOM.$(`[data-target=\"patches\"][data-version=\"${$section.dataset.version!}\"]`)[0].getBoundingClientRect()\n\t\t\t\t.height + 8;\n\n\t\tconst scrollerTop = $section.getBoundingClientRect().top;\n\t\tconst elementTop = $scrollTo.getBoundingClientRect().top;\n\t\tconst top = elementTop - scrollerTop - offset;\n\n\t\t$section.parentElement!.scrollTo({\n\t\t\ttop: top,\n\t\t\tbehavior: 'smooth',\n\t\t});\n\t}\n\n\tprivate onShowVersionClicked($el: HTMLElement, e: MouseEvent) {\n\t\tconst $view = DOM.$<HTMLDivElement>(`[data-view=\"${this.name}\"]`)[0];\n\t\t$view.dataset.version = $el.dataset.version;\n\t}\n\n\tprivate toggleVersionLink(version: string, active: boolean) {\n\t\tconst el = document.querySelector(`a[data-action=\"scrollTo\"][data-scroll-to=\"${version}\"]`);\n\t\tif (el != null) {\n\t\t\tel.classList.toggle('active', active);\n\t\t}\n\t}\n}\n","'use strict';\nimport { App } from './app';\n// import { Snow } from './snow';\n\nnew App();\n// requestAnimationFrame(() => new Snow());\n","'use strict';\n/*global window document*/\nimport { DOM } from './dom';\nimport { View } from './view';\n\nexport class App {\n\tactiveView = '';\n\n\treadonly views: View[];\n\n\tprivate _sectionCompleteHandle = 0;\n\n\tconstructor() {\n\t\tthis.views = [];\n\t\tfor (const $el of DOM.$<HTMLInputElement>('.section[data-view]')) {\n\t\t\tconst view = $el.dataset.view;\n\t\t\tif (view == null) continue;\n\n\t\t\tthis.views.push(new View(view));\n\t\t}\n\n\t\tDOM.on('[data-action=\"back\"]', 'click', this.onBackButtonClicked.bind(this));\n\t\tDOM.on('.changelog__image', 'click', function (this: HTMLImageElement) {\n\t\t\tthis.classList.toggle('expand', !this.classList.contains('expand'));\n\t\t});\n\t\twindow.addEventListener('hashchange', this.onHashChanged.bind(this), false);\n\n\t\tconst [hash, paths] = this.getHashAndPaths();\n\t\tthis.switchView(hash, paths, true);\n\t}\n\n\tswitchView(hash: string, paths: string[], loading = false): void {\n\t\twindow.clearTimeout(this._sectionCompleteHandle);\n\t\tthis._sectionCompleteHandle = 0;\n\n\t\tconst previous = this.activeView;\n\n\t\tswitch (hash) {\n\t\t\tcase '': {\n\t\t\t\tthis.activeView = '';\n\n\t\t\t\tif (previous !== this.activeView) {\n\t\t\t\t\tconst prev = this.views.find((v) => v.name === previous);\n\t\t\t\t\tif (prev != null) {\n\t\t\t\t\t\tprev.deactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdocument.body.classList.toggle('complete', loading);\n\t\t\t\tif (!loading) {\n\t\t\t\t\tdocument.location.hash = '';\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tconst view = this.views.find((v) => v.name === hash);\n\t\t\t\tif (view == null) {\n\t\t\t\t\tthis.switchView('', [], false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.activeView = hash;\n\n\t\t\t\tif (previous !== this.activeView) {\n\t\t\t\t\tconst prev = this.views.find((v) => v.name === previous);\n\t\t\t\t\tif (prev != null) {\n\t\t\t\t\t\tprev.deactivate();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tview.activate(paths, loading);\n\n\t\t\t\tdocument.body.classList.toggle('complete', loading);\n\t\t\t\tif (!loading) {\n\t\t\t\t\tthis._sectionCompleteHandle = window.setTimeout(\n\t\t\t\t\t\t() => document.body.classList.add('complete'),\n\t\t\t\t\t\t1000\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (loading) {\n\t\t\tsetTimeout(() => document.body.classList.remove('preload'), 1);\n\t\t}\n\t}\n\n\tprivate onBackButtonClicked(e: MouseEvent) {\n\t\tdocument.location.hash = '';\n\t}\n\n\tprivate onHashChanged(e: Event) {\n\t\tconst [hash, paths] = this.getHashAndPaths();\n\n\t\tif (this.redirect(hash, paths)) return;\n\n\t\tthis.switchView(hash, paths);\n\t}\n\n\tprivate getHashAndPaths(): [string, string[]] {\n\t\tlet hash = document.location.hash?.substring(1);\n\t\tlet paths: string[] = [];\n\t\tif (hash) {\n\t\t\t[hash, ...paths] = hash.split('/');\n\t\t}\n\n\t\treturn [hash, paths];\n\t}\n\n\tprivate redirect(hash: string, paths: string[]): boolean {\n\t\tif (hash === 'support-gitlens' || hash === 'sponsor') {\n\t\t\tdocument.location.hash = '#';\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n"],"names":["DOM","Storage","on","selectorOrElement","name","listener","options","el","disposed","$els","document","querySelectorAll","$el","addEventListener","dispose","removeEventListener","$","selector","clear","localStorage","get","key","value","getItem","JSON","parse","remove","removeItem","set","setItem","stringify","View","constructor","activeVersion","versions","Map","me","this","onButtonClicked","bind","e","onScrollToClicked","onShowVersionClicked","classes","dataset","push","split","observer","IntersectionObserver","onObserver","rootMargin","id","observe","hash","activate","paths","loading","body","classList","add","deactivate","getHash","path","startsWith","toLowerCase","matchesPath","location","setPath","entries","_observer","entry","target","isIntersecting","nextActive","visible","undefined","length","boundingClientRect","rootBounds","top","bottom","keys","index","indexOf","toggleVersionLink","scrollTo","$scrollTo","getElementById","$section","closest","offset","version","getBoundingClientRect","height","scrollerTop","parentElement","behavior","active","querySelector","toggle","activeView","_sectionCompleteHandle","views","view","onBackButtonClicked","contains","window","onHashChanged","getHashAndPaths","switchView","clearTimeout","previous","prev","find","v","setTimeout","redirect","substring"],"sourceRoot":""}